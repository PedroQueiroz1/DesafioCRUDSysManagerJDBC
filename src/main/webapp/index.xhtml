<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>CineLivraria!</title>
</h:head>

<h:body>

	<!--  TABELA DE AUTORES (das análises) -->
	<h:form id="form">
		<p:panelGrid columns="2" layout="grid">
			<f:facet name="header">
                Tabela de Autor
            </f:facet>
			<p:dataTable var="aut" value="#{authorView.authorList}">
				<p:column headerText="Id">
					<h:outputText value="#{aut.id}" />
				</p:column>

				<p:column headerText="Nome">
					<p:commandLink value="#{aut.name}"
						action="#{authorView.updateForm(aut)}" update="form" />
				</p:column>

				<p:column headerText="Deletar">
					<p:commandButton value="Deletar"
						action="#{authorView.deleteConfirm(aut)}" update="form" />
				</p:column>
			</p:dataTable>

			<h:form id="form-2">
				<h:inputHidden value="#{authorView.author.id}" />
				<p:outputLabel value="Nome do autor: " />
				<p:inputText value="#{authorView.author.name}" />
				<p:commandButton rendered="#{authorView.author.id != 0}"
					value="Atualizar" action="#{authorView.update}" update="form" />
				<p:commandButton rendered="#{authorView.author.id == 0}"
					value="Criar" action="#{authorView.create}" update="form" />
				<p:commandButton rendered="#{authorView.author.id != 0}"
					value="Voltar" action="#{authorView.clearForm}" update="form" />
			</h:form>
		</p:panelGrid>
	</h:form>

	<!--  TABELA DE LIVROS -->
	<h:form id="form2">
		<p:panelGrid columns="2" layout="grid">
			<f:facet name="header">
                Tabela de Livro
            </f:facet>
			<p:dataTable var="boo" value="#{bookView.bookList}">
				<p:column headerText="Id">
					<h:outputText value="#{boo.id}" />
				</p:column>

				<p:column headerText="Nome">
					<p:commandLink value="#{boo.name}"
						action="#{bookView.updateForm(boo)}" update="form2" />
				</p:column>

				<p:column headerText="Preço">
					<p:commandLink value="#{boo.price} reais"
						action="#{bookView.updateForm(boo)}" update="form2" />
				</p:column>

				<p:column headerText="Quantity">
					<p:commandLink value="#{boo.quantity} unidades"
						action="#{bookView.updateForm(boo)}" update="form2" />
				</p:column>

				<p:column headerText="Gênero">
					<p:commandLink value="#{boo.genre}"
						action="#{bookView.updateForm(boo)}" update="form2" />
				</p:column>

				<p:column headerText="Deletar">
					<p:commandButton value="Deletar"
						action="#{bookView.deleteConfirm(boo)}" update="form2" />
				</p:column>
			</p:dataTable>

			<h:form id="form-3">
				<h:inputHidden value="#{bookView.book.id}" />
				<p:outputLabel value="Nome: " />
				<p:inputText value="#{bookView.book.name}" />
				<p:outputLabel value="Preço: " />
				<p:inputText value="#{bookView.book.price}" />
				<p:outputLabel value="Quantidade: " />
				<p:inputText value="#{bookView.book.quantity}" />
				<p:outputLabel value="Gênero " />
				<p:inputText value="#{bookView.book.genre}" />
				<p:commandButton rendered="#{bookView.book.id != 0}"
					value="Atualizar" action="#{bookView.update}" update="form2" />
				<p:commandButton rendered="#{bookView.book.id == 0}" value="Criar"
					action="#{bookView.create}" update="form2" />
				<p:commandButton rendered="#{bookView.book.id != 0}" value="Voltar"
					action="#{bookView.clearForm}" update="form2" />
			</h:form>
		</p:panelGrid>
	</h:form>

	<!--  TABELA DE FILMES -->
	<h:form id="form3">
		<p:panelGrid columns="2" layout="grid">
			<f:facet name="header">
                Tabela de Filme
            </f:facet>
			<p:dataTable var="mov" value="#{movieView.movieList}">
				<p:column headerText="Id">
					<h:outputText value="#{mov.id}" />
				</p:column>

				<p:column headerText="Nome">
					<p:commandLink value="#{mov.name}"
						action="#{movieView.updateForm(mov)}" update="form3" />
				</p:column>

				<p:column headerText="Preço">
					<p:commandLink value="#{mov.price} reais"
						action="#{movieView.updateForm(mov)}" update="form3" />
				</p:column>

				<p:column headerText="Quantidade">
					<p:commandLink value="#{mov.quantity} unidades"
						action="#{movieView.updateForm(mov)}" update="form3" />
				</p:column>

				<p:column headerText="Duração">
					<p:commandLink value="#{mov.duration} minutos"
						action="#{movieView.updateForm(mov)}" update="form3" />
				</p:column>

				<p:column headerText="Deletar">
					<p:commandButton value="Deletar"
						action="#{movieView.deleteConfirm(mov)}" update="form3" />
				</p:column>
			</p:dataTable>

			<h:form id="form-4">
				<h:inputHidden value="#{movieView.movie.id}" />
				<p:outputLabel value="Nome do filme: " />
				<p:inputText value="#{movieView.movie.name}" />
				<p:outputLabel value="Preço: " />
				<p:inputText value="#{movieView.movie.price}" />
				<p:outputLabel value="Quantidade: " />
				<p:inputText value="#{movieView.movie.quantity}" />
				<p:outputLabel value="Tempo/Duração " />
				<p:inputText value="#{movieView.movie.duration}" />
				<p:commandButton rendered="#{movieView.movie.id != 0}"
					value="Atualizar" action="#{movieView.update}" update="form3" />
				<p:commandButton rendered="#{movieView.movie.id == 0}" value="Criar"
					action="#{movieView.create}" update="form3" />
				<p:commandButton rendered="#{movieView.movie.id != 0}"
					value="Voltar" action="#{movieView.clearForm}" update="form3" />
			</h:form>
		</p:panelGrid>
	</h:form>

	<!--  TABELA DE ANÁLISES -->
	<h:form id="form4">
		<p:panelGrid columns="2" layout="grid">
			<f:facet name="header">
                Tabela de Análise
            </f:facet>
			<p:dataTable var="rev" value="#{reviewView.reviewList}">
				<p:column headerText="Id">
					<h:outputText value="#{rev.id}" />
				</p:column>

				<p:column headerText="Comentário">
					<p:commandLink value="#{rev.comment}"
						action="#{reviewView.updateForm(rev)}" update="form4" />
				</p:column>

				<p:column headerText="Estrelas">
					<p:commandLink value="#{rev.stars} estrelas"
						action="#{reviewView.updateForm(rev)}" update="form4" />
				</p:column>

				<p:column headerText="Autor">
					<p:commandLink value="#{rev.reviewer.name}"
						action="#{reviewView.updateForm(rev)}" update="form4" />
				</p:column>

				<p:column headerText="Produto">
					<p:commandLink value="#{rev.product.name}"
						action="#{reviewView.updateForm(rev)}" update="form4" />
				</p:column>

				<p:column headerText="Deletar">
					<p:commandButton value="Deletar"
						action="#{reviewView.deleteConfirm(rev)}" update="form4" />
				</p:column>
			</p:dataTable>

			<h:form id="form-4">
				<h:inputHidden value="#{reviewView.review.id}" />
				<p:outputLabel value="Produto: " />
				<p:inputText value="#{reviewView.review.product}" converter="#{reviewView.productConverter}"/>
				<p:outputLabel value="Comentário: " />
				<p:inputText value="#{reviewView.review.comment}" />
				<p:outputLabel value="Estrelas: " />
				<p:inputText value="#{reviewView.review.stars}" />
				<p:outputLabel value="Autor: " />
				<p:inputText value="#{reviewView.review.reviewer}" converter="#{reviewView.authorConverter}"/>
				<p:commandButton rendered="#{reviewView.review.id != 0}"
					value="Atualizar" action="#{reviewView.update}" update="form4" />
				<p:commandButton rendered="#{reviewView.review.id == 0}"
					value="Criar" action="#{reviewView.create}" update="form4" />
				<p:commandButton rendered="#{reviewView.review.id != 0}"
					value="Voltar" action="#{reviewView.clearForm}" update="form4" />
			</h:form>
		</p:panelGrid>
	</h:form>

</h:body>


</html>